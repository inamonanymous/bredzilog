{% extends "layout.html" %}
{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin-dashboard.css') }}">
{% endblock %}

{% block body %}
    Hello World Pasok Kana
    <br>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
          <button class="btn btn-secondary ml-auto">Inventory</button>
          <button class="btn btn-secondary ml-2">Settings</button>
          <button class="btn btn-secondary ml-2">Manage Data</button>
          <a href="{{ url_for('admin.logout') }}"><button class="btn btn-danger ml-2">Logout</button></a>
        </div>
      </nav>
    
      <!-- Dashboard content -->
      <div class="container" id="dashboard-container">
        <!-- Content will go here -->
        <ul>
          {% for i in receipts %}
          <li>{{ i.unique }}</li>
          {% endfor %}
        </ul> 
      </div>
    
      <script>
        function updatePage() {
            $.get('/admin/dashboard', function(data) {
                // Parse the received HTML content to a jQuery object
                var newContent = $(data);
                
                // Find the <ul> element in the new content
                var newItems = newContent.find('ul');
                
                // Append the new <li> items to the existing <ul> element
                $('#dashboard-container ul').append(newItems.html());
            });
        }
    
        // Update data every 5 seconds
        setInterval(updatePage, 5000);
    
        // Initial data update
        updatePage();
    </script>

      <!-- Include Bootstrap JS and jQuery -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}